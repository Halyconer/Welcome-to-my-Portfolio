<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Adrian Eddy's Portfolio</title>
        <link rel="stylesheet" href="styles.css" />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
        />
    </head>
    <body>
        <!-- Navigation -->
        <nav class="floating-nav">
            <ul class="nav">
                <li><a href="index.html">About Me</a></li>
                <li><a href="resume.html">Resume</a></li>
                <li><a href="dev-roadtrip.html">Road Trip</a></li>
            </ul>
        </nav>

        <!-- Hero Section -->
        <section class="hero">
            <div class="hero-text">
                <h1>Hi, I'm Adrian.</h1>
                <p class="subtitle">
                    Economics @ NYU · Data, Markets & Machines
                </p>
                <a href="#light-greeting" class="button">Say Hello</a>
            </div>
        </section>

        <!-- Interactive Light Control Section -->
        <section id="light-greeting">
            <div class="light-control-wrapper">
                <h2>Control My Room Lights</h2>
                <p>
                    From anywhere in the world, adjust the ambient lighting in
                    my NYU dorm. A simple hello becomes a connected experience.
                </p>

                <div class="minimal-slider-container">
                    <div class="brightness-label">
                        <span>Brightness</span>
                        <div class="brightness-percentage">
                            <span id="brightnessValue">75</span>%
                        </div>
                    </div>
                    <label for="brightnessSlider" class="visually-hidden">Adjust Brightness</label>
                    <input
                        type="range"
                        id="brightnessSlider"
                        min="1"
                        max="100"
                        value="75"
                        class="minimal-slider"
                        title="Adjust Brightness"
                    />
                </div>

                <button id="setBrightnessBtn" class="send-button">
                    Send Greeting
                </button>

                <p id="brightnessStatus" class="status-text"></p>
            </div>
        </section>

        <!-- About Me Section -->
        <section id="about" class="about-me">
            <div class="about-me-container">
                <div class="about-text">
                    <div class="about-content">
                        <p>
                            Economics student at NYU bridging analytical thinking with hands-on problem-solving. 
                            I thrive on challenges that merge data, markets, and technology.
                        </p>
                        <p>
                            Self-taught programmer passionate about connecting economic theory with practical applications. 
                            When not analyzing market trends, you'll find me on the football pitch or optimizing race performance through telemetry.
                        </p>
                        <p>
                            Let's connect:
                            <a href="mailto:ae2422@nyu.edu">ae2422@nyu.edu</a>
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Projects Section -->
        <section class="projects-section">
            <div class="projects-container">
                <h2>Featured Projects</h2>
                
                <!-- Programming Skills Section -->
                        <div class="skills-section">
            <p>I use these languages and technologies to build my projects</p>
            <div class="skills-grid">
                <div class="skill-item"><i class="fab fa-python"></i></div>
                <div class="skill-item"><i class="fas fa-database"></i></div>
                <div class="skill-item"><i class="fab fa-java"></i></div>
                <div class="skill-item"><i class="fab fa-git-alt"></i></div>
                <div class="skill-item"><i class="fab fa-node-js"></i></div>
                <div class="skill-item"><i class="fab fa-html5"></i></div>
                <div class="skill-item"><i class="fab fa-css3-alt"></i></div>
                <div class="skill-item"><i class="fab fa-js"></i></div>
            </div>
        </div>

                <div class="projects-list">
                    <a href="smart-home.html" class="project-item">
                        <div class="project-logo">
                            <img src="assets/lightbulb_diagram.jpg" alt="Smart Home" class="project-image" />
                        </div>
                        <h3 class="project-name">Smart Home IoT</h3>
                        <div class="project-description">
                            <ul>
                                <li>Control room lighting from anywhere in the world</li>
                                <li>Flask API with real-time hardware integration</li>
                            </ul>
                        </div>
                    </a>

                    <a href="market-dashboard.html" class="project-item">
                        <div class="project-logo">
                            <img src="assets/fed.png" alt="Federal Reserve" class="project-image" />
                        </div>
                        <h3 class="project-name">NYU Fed Challenge</h3>
                        <div class="project-description">
                            <ul>
                                <li>Economic policy analysis and recommendations</li>
                                <li>Data visualization of monetary policy impacts</li>
                            </ul>
                        </div>
                    </a>

                    <a href="dev-roadtrip.html" class="project-item">
                        <div class="project-logo">
                            <img src="assets/spotify.png" alt="Spotify" class="project-image" />
                        </div>
                        <h3 class="project-name">Spotify Analysis</h3>
                        <div class="project-description">
                            <ul>
                                <li>Real-time music listening habit tracking</li>
                                <li>API integration with data visualization</li>
                            </ul>
                        </div>
                    </a>

                    <a href="racing-telemetry.html" class="project-item">
                        <div class="project-logo">
                            <img src="assets/connect4.jpg" alt="Connect 4" class="project-image" />
                        </div>
                        <h3 class="project-name">Connect 4 AI</h3>
                        <div class="project-description">
                            <ul>
                                <li>Minimax algorithm with alpha-beta pruning</li>
                                <li>Interactive game with AI difficulty levels</li>
                            </ul>
                        </div>
                    </a>
                </div>
            </div>
        </section>

        <!-- Bottom Resume Section -->
        <section class="bottom-resume">
            <h3>Ready to Connect?</h3>
            <p>
                Explore my full background, experience, and technical skills. 
            </p>
            <a href="resume.html" class="button">View My Resume</a>
        </section>

        <script>
            const API_URL = 'https://valid-goblin-full.ngrok-free.app'
            const slider = document.getElementById('brightnessSlider')
            const label = document.getElementById('brightnessValue')
            const btn = document.getElementById('setBrightnessBtn')
            const msg = document.getElementById('brightnessStatus')

            // Live-update the numeric readout
            slider.addEventListener('input', () => {
                label.textContent = slider.value
            })

            btn.addEventListener('click', () => {
                const brightness = slider.value
                msg.textContent = `Setting brightness to ${brightness}%...`

                btn.disabled = true
                btn.textContent = 'Sending...'

                fetch(`${API_URL}/set_brightness`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'ngrok-skip-browser-warning': 'true',
                        //'q7x!K3L9fN*zaP2vR1yW0hT8mB5sG4c': API_KEY
                    },
                    body: JSON.stringify({ brightness: parseInt(brightness) }),
                })
                    .then((response) => {
                        if (!response.ok) {
                            throw new Error(
                                `HTTP ${response.status}: ${response.statusText}`
                            )
                        }
                        return response.json()
                    })
                    .then((data) => {
                        if (data.status === 'success') {
                            msg.textContent = `✓ Lights set to ${data.brightness_set}% — thanks for the greeting!`
                        } else {
                            msg.textContent = `× ${data.error || 'Unknown error'}`
                        }
                    })
                    .catch((err) => {
                        console.error('Fetch error:', err)
                        // Provide more specific error messages
                        if (
                            err.message.includes('Failed to fetch') ||
                            err.message.includes('NetworkError')
                        ) {
                            msg.textContent = `× My personal high-tech self-built server is offline - please try again later`
                        } else if (err.message.includes('404')) {
                            msg.textContent = `× Light control endpoint not found - I messed up the code...`
                        } else if (err.message.includes('500')) {
                            msg.textContent = `× Server error - my raspberry pi is probably overloaded`
                        } else {
                            msg.textContent = `× Connection failed: ${err.message}`
                        }
                    })
                    .finally(() => {
                        btn.disabled = false
                        btn.textContent = 'Send Greeting'
                    })
            })
        </script>

        <script>
            document.addEventListener('DOMContentLoaded', function () {
                document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
                    anchor.addEventListener('click', function (e) {
                        e.preventDefault()

                        const targetId = this.getAttribute('href')
                        const targetElement = document.querySelector(targetId)

                        if (targetElement) {
                            window.scrollTo({
                                top: targetElement.offsetTop - 20,
                                behavior: 'smooth',
                            })
                        }
                    })
                })
            })
        </script>

        <footer>
            <p>© 2025 Adrian Eddy. All rights reserved.</p>
        </footer>
    </body>
</html>